=pod

=head1 NAME

xdg-prefs - locate and set preferred desktop applications

=head1 SYNOPSIS

B<xdg-prefs> [I<options>] {-p,--pref} [--] I<APPID>[B<;>...] [I<TYPE> [...]]

B<xdg-prefs> [I<options>] {-e,--exec} [--] I<TYPE>

B<xdg-prefs> [I<options>] {-l,--list} [--] I<TYPE> [...]

=head1 DESCRIPTION

B<xdg-prefs> operates in two modes: (1) locates preferred applications
by category or mime type; and (2) sets preferred applications by
category or mime type.

=head1 ARGUMENTS

The program accepts the following arguments:

=over

=item I<APPID>[B<;>...]

Specifies the application identifier of an XDG desktop application to
locate.  The application identifier, I<APPID>, can be one of the
following:

=over

=item 1.

the name of a desktop entry file without the F<.desktop> suffix (e.g.
C<gvim>); the name may contain a C</> if it is specified relative to a
user or system application directory, in which case it must not start
with a C</> or C<.>.

=item 2.

the name of a desktop entry file with the F<.desktop> suffix (e.g.
C<gvim.desktop>); the same restrictions as (1), above, apply; or,

=item 3.

the full path (absolute or relative) and filename of a desktop entry
file (e.g.  F</usr/share/applications/gvim.desktop>); the full path must
contain at least one C</> and start with either a C</> or a C<.>.

=back

Additional application identifiers and option actions can be listed
separated by semi-colons (C<;>).

Providing a non-option application identifier argument is mandatory when
the B<--pref> option is specified.

=item I<TYPE>

Specifies the type of application for which to show or set I<APPID>
as the preferred application.  The application type, I<TYPE>, can be one
of the following:

=over

=item 1.

A recognized XDG category name.  For recognized XDG category names, see
L</XDG CATEGORIES>.

=item 2.

A mime (content) type.  All mime types have a C</> in their names and
are thus distinguished from XDG categories.  The content type cannot
contain wild cards (i.e. it cannot contain C<*>).

=back

=back

=head1 OPTIONS

The options that are detailed below are recognized by B<xdg-prefs>.
B<xdg-which> uses L<getopt_long_only(3)>, so unambiguous abbreviations
of long options and long options with a single dash are also supported.

=head2 COMMAND OPTIONS

One of the following command options must be specified to set the
command mode:

=over

=item B<-p>, B<--pref> [--] I<APPID> [I<TYPE> [...]]

Specifies that I<APPID> is to be used as the default or preferred
application for I<TYPE>.

=item B<-e>, B<--exec> [--] I<TYPE>

=item B<-l>, B<--list> [--] I<TYPE> [...]

=item B<-h>, B<--help>, B<-H>, B<-?>, B<--?>

=item B<-V>, B<--version>

=item B<-C>, B<--copying>

=back

=head2 GENERAL OPTIONS

The following general options are recognized:

=over

=item B<-r>, B<--recommend>

When listing, launching or setting preferred applications, use the
recommended application instead of the default application for the given
type.

=back


=head1 XDG CATEGORIES

The following XDG categories are recognized and tracked by the program:

=over

=item C<Building;Development>

A tool to build applications.

=item C<Debugger;Development>

A tool to debug applications.

=item C<IDE;Development>

Integrated Development Environment (IDE) application.

=item C<GUIDesigner;Development>

A GUI designer application.

=item C<Profiling;Development>

A profiling tool.

=item C<RevisionControl;Development>

Applications like cvs or subversion.

=item C<Translation;Development>

A translation tool.

=item C<Calendar;Office>

Calendar application.

=item C<ContactManager;Office>

Address books, contact lists, LDIF file manipulation.

=item C<Database;Office>

=item C<Database;Development>

=item C<Database;AudioVideo>

Application to manage a database.

=item C<Dictionary;Office>

=item C<Dictionary;TextTools>

A dictionary.

=item C<Chart;Office>

Chart application.

=item C<Email;Office>

=item C<Email;Network>

Email application.

=item C<Presentation;Office>

Presentation software.

=item C<Spreadsheet;Office>

A spreadsheet.

=item C<WordProcessor;Office>

A word processor.

=item C<2DGraphics;Graphics>

2D based graphical application.

=item C<VectorGraphics;2DGraphics;Graphics>

Application for viewing, creating, or processing vector graphics.

=item C<RasterGraphics;2DGraphics;Graphics>

Application for viewing, creating, or processing raster (bitmap)
graphics.

=item C<3DGraphics;Graphics>

Application for viewing, creating, or processing 3-D graphics.

=item C<Scanning;Graphics>

Tool to scan a file/text.

=item C<OCR;Scanning;Graphics>

Optical character recognition application.

=item C<Photography;Graphics>

=item C<Photography;Office>

Camera tools, etc.

=item C<Publishing;Graphics>

=item C<Publishing;Office>

Desktop publishing applications and colour management tools.

=item C<Viewer;Graphics>

=item C<Viewer;Office>

Tool to view e.g. a graphic or pdf file.

=item C<TextTools;Utility>

A text tool utility. (A category, really.)

=item C<DesktopSettings;Settings>

Configuration tool for the GUI.

=item C<HardwareSettings;Settings>

A tool to manage hardware components, like sound cards, video cards or
printers.

=item C<Printing;HardwareSettings;Settings>

A tool to manage printers.

=item C<PackageManager;Settings>

A package manager application.

=item C<Dialup;Network>

A dial-up program.

=item C<InstantMessaging;Network>

An instant messaging client.

=item C<Chat;Network>

A chat client.

=item C<IIRCClient;Network>

An IRC (Internet Relay Chat) client.

=item C<Feed;Network>

RSS, podcast and other subscription based contents.

=item C<FileTransfer;Network>

Tools like FTP or P2P programs.

=item C<HamRadio;Network>

Tools like FTP or P2P programs.

=item C<News;Network>

A news reader or a news ticker.

=item C<P2P;Network>

A P2P program.

=item C<RemoteAccess;Network>

A tool to remotely manage your PC.

=item C<Telephony;Network>

Telephony via PC.

=item C<TelephonyTools;Utility>

Telephony tools, to dial a number, manage PBX, etc.

=item C<VideoConference;Network>

Video conference software.

=item C<WebBrowser;Network>

A web browser.

=item C<WebDevelopment;Network>

=item C<WebDevelopment;Development>

A tool for web developers.

=item C<Midi;Audio;AudioVideo>

An app related to MIDI.

=item C<Mixer;Audio;AudioVideo>

Just a mixer.

=item C<Sequencer;Audio;AudioVideo>

A sequencer.

=item C<Tuner;Audio;AudioVideo>

A tuner.

=item C<TV;Audio;AudioVideo>

A TV application.

=item C<AudioVideoEditing;Audio>

=item C<AudioVideoEditing;Video>

=item C<AudioVideoEditing;AudioVideo>

Application to edit audio/video files.

=item C<Player;Audio>

=item C<Player;Video>

=item C<Player;AudioVideo>

Application to play audio/video files.

=item C<Recorder;Audio>

=item C<Recorder;Video>

=item C<Recorder;AudioVideo>

Application to record audio/video files.

=item C<DiscBurning;AudioVideo>

Application to burn a disc.

=item C<Archiving;Utility>

A tool to archive/backup data.

=item C<Compression;Archiving;Utility>

A tool to manage compressed data/archives.

=item C<FileManager;FileTools;System>

A file manager.

=item C<TerminalEmulator;System>

A terminal emulator application.

=item C<Filesystem;System>

A file system tool.

=item C<Monitor;System>

=item C<Monitor;Network>

Monitor application/applet that monitors some resource or activity.

=item C<Security;System>

=item C<Security;Settings>

A security tool.

=item C<Accessibility;Settings>

=item C<Accessibility;Utility>

Accessibility.

=item C<Calculator;Utility>

A calculator.

=item C<Clock;Utility>

A clock application/applet.

=item C<TextEditor;Utility>

A text editor.

=item C<Documentation>

Help or documentation.

=item C<Screensaver>

A screen saver (launching this desktop entry should activate the screen
saver).

=item C<TrayIcon>

An application that is primarily an icon for the "system tray" or
"notification area" (apps that open a normal window and just happen to
have a tray icon as well should not list this category).

=item C<Applet>

An applet that will run inside a panel or another such application,
likely desktop specific.

=item C<DockApp>

A WindowMaker style dock application.

=item C<Shell>

A shell (an actual specific shell such as bash or tcsh, not a
TerminalEmulator).

=back

=head1 FILE FORMAT

There are two formats of file:

=over

=item 1.

Mime application file format that is compliant to the XDG mime
application specification.

=item 2.

XDG category file format that is similar to the XDG mime application
specification but uses XDG categories instead of mime types.

=back

=head2 MIME APPLICATIONS

For applications that are set by default the XDG mime applications
specification is used to store the default applications, added
associations and removed associations.  Files are searched in the
following order:

=over

=item F<$XDG_CONFIG_HOME/$XDG_CURRENT_DESKTOP-mimeapps.list>

This file is desktop environment specific.
Only considered for defaults and not associations.

=item F<$XDG_CONFIG_HOME/mimeapps.list>

Considered for both defaults and associations.

=item F<$XDG_CONFIG_DIRS/$XDG_CURRENT_DESKTOP-mimeapps.list>

This file is desktop environment specific.
Only considered for defaults and not associations.

=item F<$XDG_CONFIG_DIRS/mimeapps.list>

Considered for both defaults and associations.

=item F<$XDG_DATA_HOME/applications/$XDG_CURRENT_DESKTOP-mimeapps.list>

This file is desktop environment specific.
Only considered for defaults and not associations.
This location is deprecated but available for backward compatibility.

=item F<$XDG_DATA_HOME/applications/mimeapps.list>

Considered for both defaults and associations.
This location is deprecated but available for backward compatibility.

=item F<$XDG_DATA_DIRS/applications/$XDG_CURRENT_DESKTOP-mimeapps.list>

This file is desktop environment specific.
Only considered for defaults and not associations.
This location is deprecated but available for backward compatibility.

=item F<$XDG_DATA_DIRS/applications/mimeapps.list>

Considered for both defaults and associations.
This location is deprecated but available for backward compatibility.

=back

=head3 EXAMPLE

Following is an example of the contents of a F<mimeapps.list> file:

 [Added Associations]
 application/pdf=zat.desktop;zathura.desktop;raktpdf.desktop;gvim.desktop;
 application/x-ole-storage=libreoffice-startcenter.desktop;
 application/x-desktop=gvim.desktop;
 image/jpeg=xv.desktop;flphoto.desktop;gpicview.desktop;
 image/png=gpicview.desktop;
 application/octet-stream=bvi.desktop;wireshark.desktop;
 text/html=firefox.desktop;
 text/plain=vim.desktop;
 
 [Default Applications]
 x-scheme-handler/mailto=kde4-kmailservice.desktop
 application/x-extension-eml=kde4-kmailservice.desktop
 message/rfc822=kde4-kmailservice.desktop
 application/octet-stream=bvi.desktop
 text/plain=vim.desktop

=head2 XDG CATEGORIES

For preferences that are set by category, B<xdg-prefs> maintains a
separate F<prefapps.list> file that is similar in format to the
F<mimeapps.list> file of the XDG mime applications specification with
the exception that the XDG category is used in place of the mime type as
a key in the various sections of the file.  As for the F<mimeapps.list>
files, F<prefapps.list> files are searched in the following order:

=over

=item F<$XDG_CONFIG_HOME/$XDG_CURRENT_DESKTOP-prefapps.list>

This file is desktop environment specific.
Only considered for defaults and not associations.

=item F<$XDG_CONFIG_HOME/prefapps.list>

Considered for both defaults and associations.

=item F<$XDG_CONFIG_DIRS/$XDG_CURRENT_DESKTOP-prefapps.list>

This file is desktop environment specific.
Only considered for defaults and not associations.

=item F<$XDG_CONFIG_DIRS/prefapps.list>

Considered for both defaults and associations.

=item F<$XDG_DATA_HOME/applications/$XDG_CURRENT_DESKTOP-prefapps.list>

This file is desktop environment specific.
Only considered for defaults and not associations.
This location is deprecated but available for backward compatibility.

=item F<$XDG_DATA_HOME/applications/prefapps.list>

Considered for both defaults and associations.
This location is deprecated but available for backward compatibility.

=item F<$XDG_DATA_DIRS/applications/$XDG_CURRENT_DESKTOP-prefapps.list>

This file is desktop environment specific.
Only considered for defaults and not associations.
This location is deprecated but available for backward compatibility.

=item F<$XDG_DATA_DIRS/applications/prefapps.list>

Considered for both defaults and associations.
This location is deprecated but available for backward compatibility.

=back

=head3 EXAMPLE

Following is an example of the contents of a F<prefapps.list> file:

=cut

# vim: set sw=4 tw=72 nocin spell spelllang=en_ca:
